var ds=Object.defineProperty,ms=Object.defineProperties;var fs=Object.getOwnPropertyDescriptors;var Ve=Object.getOwnPropertySymbols;var Vt=Object.prototype.hasOwnProperty,Wt=Object.prototype.propertyIsEnumerable;var pe=Math.pow,$t=(e,t,r)=>t in e?ds(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,x=(e,t)=>{for(var r in t||(t={}))Vt.call(t,r)&&$t(e,r,t[r]);if(Ve)for(var r of Ve(t))Wt.call(t,r)&&$t(e,r,t[r]);return e},G=(e,t)=>ms(e,fs(t));var Q=(e,t)=>{var r={};for(var s in e)Vt.call(e,s)&&t.indexOf(s)<0&&(r[s]=e[s]);if(e!=null&&Ve)for(var s of Ve(e))t.indexOf(s)<0&&Wt.call(e,s)&&(r[s]=e[s]);return r};import{l as hs,m as ps,o as gs,h as k,a as vs,r as n,p as bs,j as m,N as rt,P as xs,e as ws,q as Es,c as Zt,s as Cs,t as Ue,v as He,E as dn,w as ft,b as We,g as Ss,u as Ps,x as ys,F as Ns,S as _s,L as Is}from"./index-DOnP4_aQ.js";import{B as Ts}from"./Breadcrumb-DCnWgaS7.js";function mn(e){let{swiper:t,extendParams:r,on:s}=e;r({thumbs:{swiper:null,multipleActiveThumbs:!0,autoScrollOffset:0,slideThumbActiveClass:"swiper-slide-thumb-active",thumbsContainerClass:"swiper-thumbs"}});let i=!1,l=!1;t.thumbs={swiper:null};function o(){const u=t.thumbs.swiper;if(!u||u.destroyed)return;const c=u.clickedIndex,f=u.clickedSlide;if(f&&f.classList.contains(t.params.thumbs.slideThumbActiveClass)||typeof c=="undefined"||c===null)return;let h;u.params.loop?h=parseInt(u.clickedSlide.getAttribute("data-swiper-slide-index"),10):h=c,t.params.loop?t.slideToLoop(h):t.slideTo(h)}function a(){const{thumbs:u}=t.params;if(i)return!1;i=!0;const c=t.constructor;if(u.swiper instanceof c)t.thumbs.swiper=u.swiper,Object.assign(t.thumbs.swiper.originalParams,{watchSlidesProgress:!0,slideToClickedSlide:!1}),Object.assign(t.thumbs.swiper.params,{watchSlidesProgress:!0,slideToClickedSlide:!1}),t.thumbs.swiper.update();else if(ps(u.swiper)){const f=Object.assign({},u.swiper);Object.assign(f,{watchSlidesProgress:!0,slideToClickedSlide:!1}),t.thumbs.swiper=new c(f),l=!0}return t.thumbs.swiper.el.classList.add(t.params.thumbs.thumbsContainerClass),t.thumbs.swiper.on("tap",o),!0}function d(u){const c=t.thumbs.swiper;if(!c||c.destroyed)return;const f=c.params.slidesPerView==="auto"?c.slidesPerViewDynamic():c.params.slidesPerView;let h=1;const p=t.params.thumbs.slideThumbActiveClass;if(t.params.slidesPerView>1&&!t.params.centeredSlides&&(h=t.params.slidesPerView),t.params.thumbs.multipleActiveThumbs||(h=1),h=Math.floor(h),c.slides.forEach(S=>S.classList.remove(p)),c.params.loop||c.params.virtual&&c.params.virtual.enabled)for(let S=0;S<h;S+=1)gs(c.slidesEl,`[data-swiper-slide-index="${t.realIndex+S}"]`).forEach(g=>{g.classList.add(p)});else for(let S=0;S<h;S+=1)c.slides[t.realIndex+S]&&c.slides[t.realIndex+S].classList.add(p);const v=t.params.thumbs.autoScrollOffset,E=v&&!c.params.loop;if(t.realIndex!==c.realIndex||E){const S=c.activeIndex;let g,C;if(c.params.loop){const b=c.slides.filter(T=>T.getAttribute("data-swiper-slide-index")===`${t.realIndex}`)[0];g=c.slides.indexOf(b),C=t.activeIndex>t.previousIndex?"next":"prev"}else g=t.realIndex,C=g>t.previousIndex?"next":"prev";E&&(g+=C==="next"?v:-1*v),c.visibleSlidesIndexes&&c.visibleSlidesIndexes.indexOf(g)<0&&(c.params.centeredSlides?g>S?g=g-Math.floor(f/2)+1:g=g+Math.floor(f/2)-1:g>S&&c.params.slidesPerGroup,c.slideTo(g,u?0:void 0))}}s("beforeInit",()=>{const{thumbs:u}=t.params;if(!(!u||!u.swiper))if(typeof u.swiper=="string"||u.swiper instanceof HTMLElement){const c=hs(),f=()=>{const p=typeof u.swiper=="string"?c.querySelector(u.swiper):u.swiper;if(p&&p.swiper)u.swiper=p.swiper,a(),d(!0);else if(p){const v=`${t.params.eventsPrefix}init`,E=S=>{u.swiper=S.detail[0],p.removeEventListener(v,E),a(),d(!0),u.swiper.update(),t.update()};p.addEventListener(v,E)}return p},h=()=>{if(t.destroyed)return;f()||requestAnimationFrame(h)};requestAnimationFrame(h)}else a(),d(!0)}),s("slideChange update resize observerUpdate",()=>{d()}),s("setTransition",(u,c)=>{const f=t.thumbs.swiper;!f||f.destroyed||f.setTransition(c)}),s("beforeDestroy",()=>{const u=t.thumbs.swiper;!u||u.destroyed||l&&u.destroy()}),Object.assign(t.thumbs,{init:a,update:d})}const Ut="/evcar",fn=({product:e,discountedPrice:t,currency:r,finalDiscountedPrice:s,finalProductPrice:i,cartItems:l,wishlistItem:o})=>{console.log("product",e);const a=vs(),[d,u]=n.useState(e!=null&&e.variation?e.variation[0].color:""),[c,f]=n.useState(e!=null&&e.variation?e.variation[0].size[0].name:""),[h,p]=n.useState(e==null?void 0:e.stock_quantity),[v,E]=n.useState(1),S=bs(l,e,d,c);return m.jsxs("div",{className:"product-details-content ml-70",children:[m.jsx("h2",{children:e==null?void 0:e.item_name}),m.jsx("div",{className:"product-details-price",children:t!==null?m.jsxs(n.Fragment,{children:[m.jsx("span",{children:m.jsx(rt,{value:r.currencySymbol+s,displayType:"text",thousandSeparator:!0,prefix:"$",decimalScale:2,fixedDecimalScale:!0})})," ",m.jsx("span",{className:"old",children:m.jsx(rt,{value:r.currencySymbol+i,displayType:"text",thousandSeparator:!0,prefix:"$",decimalScale:2,fixedDecimalScale:!0})})]}):m.jsx("span",{children:m.jsx(rt,{value:r.currencySymbol+i,displayType:"text",thousandSeparator:!0,prefix:"$",decimalScale:2,fixedDecimalScale:!0})})}),e!=null&&e.rating&&e.rating>0?m.jsx("div",{className:"pro-details-rating-wrap",children:m.jsx("div",{className:"pro-details-rating",children:m.jsx(xs,{ratingValue:e.rating})})}):"",m.jsx("div",{className:"pro-details-list",children:m.jsx("p",{dangerouslySetInnerHTML:{__html:e==null?void 0:e.description}})}),e!=null&&e.variation?m.jsxs("div",{className:"pro-details-size-color",children:[m.jsxs("div",{className:"pro-details-color-wrap",children:[m.jsx("span",{children:"Color"}),m.jsx("div",{className:"pro-details-color-content",children:e==null?void 0:e.variation.map((g,C)=>m.jsxs("label",{className:`pro-details-color-content--single ${g.color}`,children:[m.jsx("input",{type:"radio",value:g.color,name:"product-color",checked:g.color===d?"checked":"",onChange:()=>{u(g.color),f(g.size[0].name),p(g.size[0].stock),E(1)}}),m.jsx("span",{className:"checkmark"})]},C))})]}),m.jsxs("div",{className:"pro-details-size",children:[m.jsx("span",{children:"Size"}),m.jsx("div",{className:"pro-details-size-content",children:(e==null?void 0:e.variation)&&(e==null?void 0:e.variation.map(g=>g.color===d?g.size.map((C,b)=>m.jsxs("label",{className:"pro-details-size-content--single",children:[m.jsx("input",{type:"radio",value:C.name,checked:C.name===c?"checked":"",onChange:()=>{f(C.name),p(C.stock),E(1)}}),m.jsx("span",{className:"size-name",children:C.name})]},b)):""))})]})]}):"",e!=null&&e.affiliateLink?m.jsx("div",{className:"pro-details-quality",children:m.jsx("div",{className:"pro-details-cart btn-hover ml-0",children:m.jsx("a",{href:e.affiliateLink,rel:"noopener noreferrer",target:"_blank",children:"Buy Now"})})}):m.jsxs("div",{className:"pro-details-quality",children:[m.jsxs("div",{className:"cart-plus-minus",children:[m.jsx("button",{onClick:()=>E(v>1?v-1:1),className:"dec qtybutton",children:"-"}),m.jsx("input",{className:"cart-plus-minus-box",type:"text",value:v,readOnly:!0}),m.jsx("button",{onClick:()=>{console.log(v,h,S),E(v<h-S?v+1:v)},className:"inc qtybutton",children:"+"})]}),m.jsx("div",{className:"pro-details-cart btn-hover",children:h&&h>0?m.jsxs("button",{onClick:()=>a(ws(G(x({},e),{quantity:v,selectedProductColor:d||(e.selectedProductColor?e.selectedProductColor:null),selectedProductSize:c||(e.selectedProductSize?e.selectedProductSize:null)}))),disabled:S>=h,children:[" ","Add To Cart"," "]}):m.jsx("button",{disabled:!0,children:"Out of Stock"})}),m.jsx("div",{className:"pro-details-wishlist",children:m.jsx("button",{className:o!==void 0?"active":"",disabled:o!==void 0,title:o!==void 0?"Added to wishlist":"Add to wishlist",onClick:()=>a(Es(e)),children:m.jsx("i",{className:"pe-7s-like"})})})]}),e!=null&&e.category?m.jsxs("div",{className:"pro-details-meta",children:[m.jsx("span",{children:"Categories :"}),m.jsx("ul",{children:e.category.map((g,C)=>m.jsx("li",{children:m.jsx(Zt,{to:Ut+"/shop-grid-standard",children:g})},C))})]}):"",e!=null&&e.tag?m.jsxs("div",{className:"pro-details-meta",children:[m.jsx("span",{children:"Tags :"}),m.jsx("ul",{children:e.tag.map((g,C)=>m.jsx("li",{children:m.jsx(Zt,{to:Ut+"/shop-grid-standard",children:g})},C))})]}):"",m.jsx("div",{className:"pro-details-social",children:m.jsxs("ul",{children:[m.jsx("li",{children:m.jsx("a",{href:"//facebook.com",children:m.jsx("i",{className:"fa fa-facebook"})})}),m.jsx("li",{children:m.jsx("a",{href:"//dribbble.com",children:m.jsx("i",{className:"fa fa-dribbble"})})}),m.jsx("li",{children:m.jsx("a",{href:"//pinterest.com",children:m.jsx("i",{className:"fa fa-pinterest-p"})})}),m.jsx("li",{children:m.jsx("a",{href:"//twitter.com",children:m.jsx("i",{className:"fa fa-twitter"})})}),m.jsx("li",{children:m.jsx("a",{href:"//linkedin.com",children:m.jsx("i",{className:"fa fa-linkedin"})})})]})})]})};fn.propTypes={cartItems:k.array,compareItem:k.shape({}),currency:k.shape({currencyRate:k.number,currencySymbol:k.string}),discountedPrice:k.number,finalDiscountedPrice:k.number,finalProductPrice:k.number,product:k.shape({id:k.number,item_name:k.string,description:k.string,price:k.number,discount:k.number,image:k.string,new:k.number,affiliateLink:k.string,variation:k.array,stock_quantity:k.number,name:k.string,rating:k.number,selectedProductColor:k.string,selectedProductSize:k.string,shortDescription:k.string,category:k.array,tag:k.array}),wishlistItem:k.shape({})};const hn=({product:e})=>m.jsxs("div",{className:"product-large-image-wrapper",children:[e!=null&&e.discount||e!=null&&e.new?m.jsxs("div",{className:"product-img-badges",children:[e!=null&&e.discount?m.jsxs("span",{className:"pink",children:["-",e.discount,"%"]}):"",e!=null&&e.new?m.jsx("span",{className:"purple",children:"New"}):""]}):"",m.jsx("div",{className:"product-fixed-image",children:e!=null&&e.image?m.jsx("img",{src:e==null?void 0:e.image,alt:"",className:"img-fluid"}):""})]});hn.propTypes={product:k.shape({image:k.array,discount:k.number,new:k.number})};const pn="carousel",Ye="controller",ks="navigation",Ms="no-scroll",wt="portal",Ls="root",gn="toolbar",Le="fullscreen",Re="thumbnails",Ht="zoom",it="loading",ot="error",lt="complete",Rs="placeholder",Os=e=>`active-slide-${e}`,vn="fullsize",Pe="flex_center",js="no_scroll",bn="no_scroll_padding",xn="slide_wrapper",Ds="slide_wrapper_interactive",fe="prev",he="next",ht="swipe",ye="close",wn="onPointerDown",En="onPointerMove",Cn="onPointerUp",Sn="onPointerLeave",Pn="onPointerCancel",Et="onKeyDown",Fs="onKeyUp",Ct="onWheel",As="Escape",zs="ArrowLeft",$s="ArrowRight",Vs="button",Be="icon",yn="contain",Bt="cover",Nn="Unknown action type",_n="yarl__";function J(...e){return[...e].filter(Boolean).join(" ")}function M(e){return`${_n}${e}`}function V(e){return`--${_n}${e}`}function we(e,t){return`${e}${t?`_${t}`:""}`}function Ee(e){return t=>we(e,t)}function Ws(e,t){var r;return(r=e==null?void 0:e[t])!==null&&r!==void 0?r:t}function Oe(...e){return()=>{e.forEach(t=>{t()})}}function ce(e,t,r){return()=>{const s=n.useContext(r);if(!s)throw new Error(`${e} must be used within a ${t}.Provider`);return s}}function St(){return typeof window!="undefined"}function Pt(e,t=0){const r=pe(10,t);return Math.round((e+Number.EPSILON)*r)/r}function Ce(e){return e.type===void 0||e.type==="image"}function yt(e,t){return e.imageFit===Bt||e.imageFit!==yn&&t===Bt}function qe(e){return typeof e=="string"?Number.parseInt(e,10):e}function Xe(e){if(typeof e=="number")return{pixel:e};if(typeof e=="string"){const t=qe(e);return e.endsWith("%")?{percent:t}:{pixel:t}}return{pixel:0}}function Zs(e,t){const r=Xe(t),s=r.percent!==void 0?e.width/100*r.percent:r.pixel;return{width:Math.max(e.width-2*s,0),height:Math.max(e.height-2*s,0)}}function Us(){return(St()?window==null?void 0:window.devicePixelRatio:void 0)||1}function In(e,t){return t>0?(e%t+t)%t:0}function Nt(e){return e.length>0}function _t(e,t){return e[In(t,e.length)]}function pt(e,t){return Nt(e)?_t(e,t):void 0}function Tn(e){return Ce(e)?e.src:void 0}function It(e,t,r){if(!r)return e;const a=e,{buttons:s}=a,i=Q(a,["buttons"]),l=s.findIndex(d=>d===t),o=n.isValidElement(r)?n.cloneElement(r,{key:t},null):r;if(l>=0){const d=[...s];return d.splice(l,1,o),x({buttons:d},i)}return x({buttons:[o,...s]},i)}function kn(e,t,r=0){return Math.min(e.preload,Math.max(e.finite?t.length-1:Math.floor(t.length/2),r))}const Hs=Number(n.version.split(".")[0])>=19;function Bs(e){return{inert:Hs?e:e?"":void 0}}const gt={open:!1,close:()=>{},index:0,slides:[],render:{},plugins:[],toolbar:{buttons:[ye]},labels:{},animation:{fade:250,swipe:500,easing:{fade:"ease",swipe:"ease-out",navigation:"ease-in-out"}},carousel:{finite:!1,preload:2,padding:"16px",spacing:"30%",imageFit:yn,imageProps:{}},controller:{ref:null,focus:!0,aria:!1,touchAction:"none",closeOnPullUp:!1,closeOnPullDown:!1,closeOnBackdropClick:!1,preventDefaultWheelX:!0,preventDefaultWheelY:!1},portal:{},noScroll:{disabled:!1},on:{},styles:{},className:""};function ue(e,t){return{name:e,component:t}}function B(e,t){return{module:e,children:t}}function Mn(e,t,r){return e.module.name===t?r(e):e.children?[B(e.module,e.children.flatMap(s=>{var i;return(i=Mn(s,t,r))!==null&&i!==void 0?i:[]}))]:[e]}function Se(e,t,r){return e.flatMap(s=>{var i;return(i=Mn(s,t,r))!==null&&i!==void 0?i:[]})}function Xs(e,t=[],r=[]){let s=e;const i=p=>{const v=[...s];for(;v.length>0;){const E=v.pop();if((E==null?void 0:E.module.name)===p)return!0;E!=null&&E.children&&v.push(...E.children)}return!1},l=(p,v)=>{if(p===""){s=[B(v,s)];return}s=Se(s,p,E=>[B(v,[E])])},o=(p,v)=>{s=Se(s,p,E=>[B(E.module,[B(v,E.children)])])},a=(p,v,E)=>{s=Se(s,p,S=>{var g;return[B(S.module,[...E?[B(v)]:[],...(g=S.children)!==null&&g!==void 0?g:[],...E?[]:[B(v)]])]})},d=(p,v,E)=>{s=Se(s,p,S=>[...E?[B(v)]:[],S,...E?[]:[B(v)]])},u=p=>{o(Ye,p)},c=(p,v)=>{s=Se(s,p,E=>[B(v,E.children)])},f=p=>{s=Se(s,p,v=>v.children)},h=p=>{r.push(p)};return t.forEach(p=>{p({contains:i,addParent:l,append:o,addChild:a,addSibling:d,addModule:u,replace:c,remove:f,augment:h})}),{config:s,augmentation:p=>r.reduce((v,E)=>E(v),p)}}const Ln=n.createContext(null),Ne=ce("useDocument","DocumentContext",Ln);function Ys({nodeRef:e,children:t}){const r=n.useMemo(()=>{const s=l=>{var o;return((o=l||e.current)===null||o===void 0?void 0:o.ownerDocument)||document};return{getOwnerDocument:s,getOwnerWindow:l=>{var o;return((o=s(l))===null||o===void 0?void 0:o.defaultView)||window}}},[e]);return n.createElement(Ln.Provider,{value:r},t)}const Rn=n.createContext(null),je=ce("useEvents","EventsContext",Rn);function qs({children:e}){const[t]=n.useState({});n.useEffect(()=>()=>{Object.keys(t).forEach(s=>delete t[s])},[t]);const r=n.useMemo(()=>{const s=(o,a)=>{var d;(d=t[o])===null||d===void 0||d.splice(0,t[o].length,...t[o].filter(u=>u!==a))};return{publish:(...[o,a])=>{var d;(d=t[o])===null||d===void 0||d.forEach(u=>u(a))},subscribe:(o,a)=>(t[o]||(t[o]=[]),t[o].push(a),()=>s(o,a)),unsubscribe:s}},[t]);return n.createElement(Rn.Provider,{value:r},e)}const On=n.createContext(null),Y=ce("useLightboxProps","LightboxPropsContext",On);function jn(r){var s=r,{children:e}=s,t=Q(s,["children"]);return n.createElement(On.Provider,{value:t},e)}const Dn=n.createContext(null),de=ce("useLightboxState","LightboxStateContext",Dn),Fn=n.createContext(null),Ks=ce("useLightboxDispatch","LightboxDispatchContext",Fn);function Gs(e,t){switch(t.type){case"swipe":{const{slides:r}=e,s=(t==null?void 0:t.increment)||0,i=e.globalIndex+s,l=In(i,r.length),o=pt(r,l),a=s||t.duration?{increment:s,duration:t.duration,easing:t.easing}:void 0;return{slides:r,currentIndex:l,globalIndex:i,currentSlide:o,animation:a}}case"update":return t.slides!==e.slides||t.index!==e.currentIndex?{slides:t.slides,currentIndex:t.index,globalIndex:t.index,currentSlide:pt(t.slides,t.index)}:e;default:throw new Error(Nn)}}function Qs({slides:e,index:t,children:r}){const[s,i]=n.useReducer(Gs,{slides:e,currentIndex:t,globalIndex:t,currentSlide:pt(e,t)});n.useEffect(()=>{i({type:"update",slides:e,index:t})},[e,t]);const l=n.useMemo(()=>G(x({},s),{state:s,dispatch:i}),[s,i]);return n.createElement(Fn.Provider,{value:i},n.createElement(Dn.Provider,{value:l},r))}const An=n.createContext(null),Ke=ce("useTimeouts","TimeoutsContext",An);function Js({children:e}){const[t]=n.useState([]);n.useEffect(()=>()=>{t.forEach(s=>window.clearTimeout(s)),t.splice(0,t.length)},[t]);const r=n.useMemo(()=>{const s=o=>{t.splice(0,t.length,...t.filter(a=>a!==o))};return{setTimeout:(o,a)=>{const d=window.setTimeout(()=>{s(d),o()},a);return t.push(d),d},clearTimeout:o=>{o!==void 0&&(s(o),window.clearTimeout(o))}}},[t]);return n.createElement(An.Provider,{value:r},e)}const De=n.forwardRef(function(u,d){var c=u,{label:t,className:r,icon:s,renderIcon:i,onClick:l,style:o}=c,a=Q(c,["label","className","icon","renderIcon","onClick","style"]);const{styles:f,labels:h}=Y(),p=Ws(h,t);return n.createElement("button",x({ref:d,type:"button",title:p,"aria-label":p,className:J(M(Vs),r),onClick:l,style:x(x({},o),f.button)},a),i?i():n.createElement(s,{className:M(Be),style:f.icon}))});function zn(e,t){const r=s=>n.createElement("svg",x({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24","aria-hidden":"true",focusable:"false"},s),t);return r.displayName=e,r}function se(e,t){return zn(e,n.createElement("g",{fill:"currentColor"},n.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),t))}function er(e,t){return zn(e,n.createElement(n.Fragment,null,n.createElement("defs",null,n.createElement("mask",{id:"strike"},n.createElement("path",{d:"M0 0h24v24H0z",fill:"white"}),n.createElement("path",{d:"M0 0L24 24",stroke:"black",strokeWidth:4}))),n.createElement("path",{d:"M0.70707 2.121320L21.878680 23.292883",stroke:"currentColor",strokeWidth:2}),n.createElement("g",{fill:"currentColor",mask:"url(#strike)"},n.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),t)))}const tr=se("Close",n.createElement("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"})),nr=se("Previous",n.createElement("path",{d:"M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"})),sr=se("Next",n.createElement("path",{d:"M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"})),rr=se("Loading",n.createElement(n.Fragment,null,Array.from({length:8}).map((e,t,r)=>n.createElement("line",{key:t,x1:"12",y1:"6.5",x2:"12",y2:"1.8",strokeLinecap:"round",strokeWidth:"2.6",stroke:"currentColor",strokeOpacity:1/r.length*(t+1),transform:`rotate(${360/r.length*t}, 12, 12)`})))),ir=se("Error",n.createElement("path",{d:"M21.9,21.9l-8.49-8.49l0,0L3.59,3.59l0,0L2.1,2.1L0.69,3.51L3,5.83V19c0,1.1,0.9,2,2,2h13.17l2.31,2.31L21.9,21.9z M5,18 l3.5-4.5l2.5,3.01L12.17,15l3,3H5z M21,18.17L5.83,3H19c1.1,0,2,0.9,2,2V18.17z"})),ie=St()?n.useLayoutEffect:n.useEffect;function Tt(){const[e,t]=n.useState(!1);return n.useEffect(()=>{var r,s;const i=(r=window.matchMedia)===null||r===void 0?void 0:r.call(window,"(prefers-reduced-motion: reduce)");t(i==null?void 0:i.matches);const l=o=>t(o.matches);return(s=i==null?void 0:i.addEventListener)===null||s===void 0||s.call(i,"change",l),()=>{var o;return(o=i==null?void 0:i.removeEventListener)===null||o===void 0?void 0:o.call(i,"change",l)}},[]),e}function or(e){let t=0,r=0,s=0;const l=window.getComputedStyle(e).transform.match(/matrix.*\((.+)\)/);if(l){const o=l[1].split(",").map(qe);o.length===6?(t=o[4],r=o[5]):o.length===16&&(t=o[12],r=o[13],s=o[14])}return{x:t,y:r,z:s}}function vt(e,t){const r=n.useRef(),s=n.useRef(),i=Tt();return ie(()=>{var l,o,a;if(e.current&&r.current!==void 0&&!i){const{keyframes:d,duration:u,easing:c,onfinish:f}=t(r.current,e.current.getBoundingClientRect(),or(e.current))||{};if(d&&u){(l=s.current)===null||l===void 0||l.cancel(),s.current=void 0;try{s.current=(a=(o=e.current).animate)===null||a===void 0?void 0:a.call(o,d,{duration:u,easing:c})}catch(h){console.error(h)}s.current&&(s.current.onfinish=()=>{s.current=void 0,f==null||f()})}}r.current=void 0}),{prepareAnimation:l=>{r.current=l},isAnimationPlaying:()=>{var l;return((l=s.current)===null||l===void 0?void 0:l.playState)==="running"}}}function $n(){const e=n.useRef(null),t=n.useRef(),[r,s]=n.useState();return{setContainerRef:n.useCallback(l=>{e.current=l,t.current&&(t.current.disconnect(),t.current=void 0);const o=()=>{if(l){const a=window.getComputedStyle(l),d=u=>parseFloat(u)||0;s({width:Math.round(l.clientWidth-d(a.paddingLeft)-d(a.paddingRight)),height:Math.round(l.clientHeight-d(a.paddingTop)-d(a.paddingBottom))})}else s(void 0)};o(),l&&typeof ResizeObserver!="undefined"&&(t.current=new ResizeObserver(o),t.current.observe(l))},[]),containerRef:e,containerRect:r}}function Ze(){const e=n.useRef(),{setTimeout:t,clearTimeout:r}=Ke();return n.useCallback((s,i)=>{r(e.current),e.current=t(s,i>0?i:0)},[t,r])}function F(e){const t=n.useRef(e);return ie(()=>{t.current=e}),n.useCallback((...r)=>{var s;return(s=t.current)===null||s===void 0?void 0:s.call(t,...r)},[])}function Xt(e,t){typeof e=="function"?e(t):e&&(e.current=t)}function bt(e,t){return n.useMemo(()=>e==null&&t==null?null:r=>{Xt(e,r),Xt(t,r)},[e,t])}function lr(e,t=!1){const r=n.useRef();ie(()=>{t&&r.current&&(r.current=!1,e())},[t,e]);const s=n.useCallback(()=>{r.current=!0},[]),i=n.useCallback(()=>{r.current=!1},[]);return{onFocus:s,onBlur:i}}function Ge(){const[e,t]=n.useState(!1);return ie(()=>{t(window.getComputedStyle(window.document.documentElement).direction==="rtl")},[]),e}function Vn(){const[e]=n.useState({}),t=n.useCallback((i,l)=>{var o;(o=e[i])===null||o===void 0||o.forEach(a=>{l.isPropagationStopped()||a(l)})},[e]),r=n.useMemo(()=>({onPointerDown:i=>t(wn,i),onPointerMove:i=>t(En,i),onPointerUp:i=>t(Cn,i),onPointerLeave:i=>t(Sn,i),onPointerCancel:i=>t(Pn,i),onKeyDown:i=>t(Et,i),onKeyUp:i=>t(Fs,i),onWheel:i=>t(Ct,i)}),[t]),s=n.useCallback((i,l)=>(e[i]||(e[i]=[]),e[i].unshift(l),()=>{const o=e[i];o&&o.splice(0,o.length,...o.filter(a=>a!==l))}),[e]);return{registerSensors:r,subscribeSensors:s}}function Yt(e,t){const r=n.useRef(0),s=Ze(),i=F((...l)=>{r.current=Date.now(),e(l)});return n.useCallback((...l)=>{s(()=>{i(l)},t-(Date.now()-r.current))},[t,i,s])}const at=Ee("slide"),ct=Ee("slide_image");function be({slide:e,offset:t,render:r,rect:s,imageFit:i,imageProps:l,onClick:o,onLoad:a,onError:d,style:u}){var c,f,h,p,v,E,S;const[g,C]=n.useState(it),{publish:b}=je(),{setTimeout:T}=Ke(),P=n.useRef(null);n.useEffect(()=>{t===0&&b(Os(g))},[t,g,b]);const R=F($=>{("decode"in $?$.decode():Promise.resolve()).catch(()=>{}).then(()=>{$.parentNode&&(C(lt),T(()=>{a==null||a($)},0))})}),L=n.useCallback($=>{P.current=$,$!=null&&$.complete&&R($)},[R]),z=n.useCallback($=>{R($.currentTarget)},[R]),w=F(()=>{C(ot),d==null||d()}),I=yt(e,i),O=($,oe)=>Number.isFinite($)?$:oe,A=O(Math.max(...((f=(c=e.srcSet)===null||c===void 0?void 0:c.map($=>$.width))!==null&&f!==void 0?f:[]).concat(e.width?[e.width]:[]).filter(Boolean)),((h=P.current)===null||h===void 0?void 0:h.naturalWidth)||0),H=O(Math.max(...((v=(p=e.srcSet)===null||p===void 0?void 0:p.map($=>$.height))!==null&&v!==void 0?v:[]).concat(e.height?[e.height]:[]).filter(Boolean)),((E=P.current)===null||E===void 0?void 0:E.naturalHeight)||0),N=A&&H?{maxWidth:`min(${A}px, 100%)`,maxHeight:`min(${H}px, 100%)`}:{maxWidth:"100%",maxHeight:"100%"},_=(S=e.srcSet)===null||S===void 0?void 0:S.sort(($,oe)=>$.width-oe.width).map($=>`${$.src} ${$.width}w`).join(", "),D=()=>s&&!I&&e.width&&e.height?s.height/e.height*e.width:Number.MAX_VALUE,j=_&&s&&St()?`${Math.round(Math.min(D(),s.width))}px`:void 0,te=l||{},{style:Z,className:U}=te,ee=Q(te,["style","className"]);return n.createElement(n.Fragment,null,n.createElement("img",G(x({ref:L,onLoad:z,onError:w,onClick:o,draggable:!1,className:J(M(ct()),I&&M(ct("cover")),g!==lt&&M(ct("loading")),U),style:x(x(x({},N),u),Z)},ee),{alt:e.alt,sizes:j,srcSet:_,src:e.src})),g!==lt&&n.createElement("div",{className:M(at(Rs))},g===it&&(r!=null&&r.iconLoading?r.iconLoading():n.createElement(rr,{className:J(M(Be),M(at(it)))})),g===ot&&(r!=null&&r.iconError?r.iconError():n.createElement(ir,{className:J(M(Be),M(at(ot)))}))))}const ar=n.forwardRef(function(l,i){var o=l,{className:t,children:r}=o,s=Q(o,["className","children"]);const a=n.useRef(null);return n.createElement(Ys,{nodeRef:a},n.createElement("div",x({ref:bt(i,a),className:J(M("root"),t)},s),r))});var q;(function(e){e[e.NONE=0]="NONE",e[e.SWIPE=1]="SWIPE",e[e.PULL=2]="PULL",e[e.ANIMATION=3]="ANIMATION"})(q||(q={}));function Wn(e,t,r,s,i){n.useEffect(()=>i?()=>{}:Oe(e(wn,t),e(En,r),e(Cn,s),e(Sn,s),e(Pn,s)),[e,t,r,s,i])}var re;(function(e){e[e.NONE=0]="NONE",e[e.SWIPE=1]="SWIPE",e[e.PULL=2]="PULL"})(re||(re={}));const ut=30;function cr(e,t,r,s,i,l,o,a,d,u,c,f,h,p){const v=n.useRef(0),E=n.useRef([]),S=n.useRef(),g=n.useRef(0),C=n.useRef(re.NONE),b=n.useCallback(w=>{S.current===w.pointerId&&(S.current=void 0,C.current=re.NONE);const I=E.current;I.splice(0,I.length,...I.filter(O=>O.pointerId!==w.pointerId))},[]),T=n.useCallback(w=>{b(w),w.persist(),E.current.push(w)},[b]),P=F(w=>{T(w)}),R=(w,I)=>u&&w>I||d&&w<-I,L=F(w=>{if(E.current.find(I=>I.pointerId===w.pointerId)&&S.current===w.pointerId){const I=Date.now()-g.current,O=v.current;C.current===re.SWIPE?Math.abs(O)>.3*r||Math.abs(O)>5&&I<s?o(O,I):a(O):C.current===re.PULL&&(R(O,2*ut)?h(O,I):p(O)),v.current=0,C.current=re.NONE}b(w)}),z=F(w=>{const I=E.current.find(O=>O.pointerId===w.pointerId);if(I){const O=S.current===w.pointerId;if(w.buttons===0){O&&v.current!==0?L(w):b(I);return}const A=w.clientX-I.clientX,H=w.clientY-I.clientY;if(S.current===void 0){const N=_=>{T(w),S.current=w.pointerId,g.current=Date.now(),C.current=_};Math.abs(A)>Math.abs(H)&&Math.abs(A)>ut&&t(A)?(N(re.SWIPE),i()):Math.abs(H)>Math.abs(A)&&R(H,ut)&&(N(re.PULL),c())}else O&&(C.current===re.SWIPE?(v.current=A,l(A)):C.current===re.PULL&&(v.current=H,f(H)))}});Wn(e,P,z,L)}function ur({preventDefaultWheelX:e,preventDefaultWheelY:t}){const r=n.useRef(null),s=F(i=>{const l=Math.abs(i.deltaX)>Math.abs(i.deltaY);(l&&e||!l&&t||i.ctrlKey)&&i.preventDefault()});return n.useCallback(i=>{var l;i?i.addEventListener("wheel",s,{passive:!1}):(l=r.current)===null||l===void 0||l.removeEventListener("wheel",s),r.current=i},[s])}function dr(e,t,r,s,i,l,o,a,d){const u=n.useRef(0),c=n.useRef(0),f=n.useRef(),h=n.useRef(),p=n.useRef(0),v=n.useRef(),E=n.useRef(0),{setTimeout:S,clearTimeout:g}=Ke(),C=n.useCallback(()=>{f.current&&(g(f.current),f.current=void 0)},[g]),b=n.useCallback(()=>{h.current&&(g(h.current),h.current=void 0)},[g]),T=F(()=>{e!==q.SWIPE&&(u.current=0,E.current=0,C(),b())});n.useEffect(T,[e,T]);const P=F(L=>{h.current=void 0,u.current===L&&d(u.current)}),R=F(L=>{if(L.ctrlKey||Math.abs(L.deltaY)>Math.abs(L.deltaX))return;const z=w=>{p.current=w,g(v.current),v.current=w>0?S(()=>{p.current=0,v.current=void 0},300):void 0};if(e===q.NONE){if(Math.abs(L.deltaX)<=1.2*Math.abs(p.current)){z(L.deltaX);return}if(!r(-L.deltaX))return;if(c.current+=L.deltaX,C(),Math.abs(c.current)>30)c.current=0,z(0),E.current=Date.now(),l();else{const w=c.current;f.current=S(()=>{f.current=void 0,w===c.current&&(c.current=0)},i)}}else if(e===q.SWIPE){let w=u.current-L.deltaX;if(w=Math.min(Math.abs(w),s)*Math.sign(w),u.current=w,o(w),b(),Math.abs(w)>.2*s){z(L.deltaX),a(w,Date.now()-E.current);return}h.current=S(()=>P(w),2*i)}else z(L.deltaX)});n.useEffect(()=>t(Ct,R),[t,R])}const qt=Ee("container"),Zn=n.createContext(null),me=ce("useController","ControllerContext",Zn);function mr(r){var s=r,{children:e}=s,t=Q(s,["children"]);var i;const{carousel:l,animation:o,controller:a,on:d,styles:u,render:c}=t,{closeOnPullUp:f,closeOnPullDown:h,preventDefaultWheelX:p,preventDefaultWheelY:v}=a,[E,S]=n.useState(),g=de(),C=Ks(),[b,T]=n.useState(q.NONE),P=n.useRef(0),R=n.useRef(0),L=n.useRef(1),{registerSensors:z,subscribeSensors:w}=Vn(),{subscribe:I,publish:O}=je(),A=Ze(),H=Ze(),N=Ze(),{containerRef:_,setContainerRef:D,containerRect:j}=$n(),Z=bt(ur({preventDefaultWheelX:p,preventDefaultWheelY:v}),D),U=n.useRef(null),ee=bt(U,void 0),{getOwnerDocument:te}=Ne(),$=Ge(),oe=y=>($?-1:1)*(typeof y=="number"?y:1),_e=F(()=>{var y;return(y=_.current)===null||y===void 0?void 0:y.focus()}),Lt=F(()=>t),Rt=F(()=>g),Fe=n.useCallback(y=>O(fe,y),[O]),Ae=n.useCallback(y=>O(he,y),[O]),Ie=n.useCallback(()=>O(ye),[O]),Je=y=>!(l.finite&&(oe(y)>0&&g.currentIndex===0||oe(y)<0&&g.currentIndex===g.slides.length-1)),Ot=y=>{var W;P.current=y,(W=_.current)===null||W===void 0||W.style.setProperty(V("swipe_offset"),`${Math.round(y)}px`)},et=y=>{var W,K;R.current=y,L.current=(()=>{const ke=h&&y>0?y:f&&y<0?-y:0;return Math.min(Math.max(Pt(1-ke/60*(1-.5),2),.5),1)})(),(W=_.current)===null||W===void 0||W.style.setProperty(V("pull_offset"),`${Math.round(y)}px`),(K=_.current)===null||K===void 0||K.style.setProperty(V("pull_opacity"),`${L.current}`)},{prepareAnimation:os}=vt(U,(y,W,K)=>{if(U.current&&j)return{keyframes:[{transform:`translate(0, ${y.rect.y-W.y+K.y}px)`,opacity:y.opacity},{transform:"translate(0, 0)",opacity:1}],duration:y.duration,easing:o.easing.fade}}),jt=(y,W)=>{if(f||h){et(y);let K=0;U.current&&(K=o.fade*(W?2:1),os({rect:U.current.getBoundingClientRect(),opacity:L.current,duration:K})),N(()=>{et(0),T(q.NONE)},K),T(q.ANIMATION),W||Ie()}},{prepareAnimation:ls,isAnimationPlaying:as}=vt(U,(y,W,K)=>{var le;if(U.current&&j&&(!((le=g.animation)===null||le===void 0)&&le.duration)){const ne=Xe(l.spacing),ke=(ne.percent?ne.percent*j.width/100:ne.pixel)||0;return{keyframes:[{transform:`translate(${oe(g.globalIndex-y.index)*(j.width+ke)+y.rect.x-W.x+K.x}px, 0)`},{transform:"translate(0, 0)"}],duration:g.animation.duration,easing:g.animation.easing}}}),Te=F(y=>{var W,K;const le=y.offset||0,ne=le?o.swipe:(W=o.navigation)!==null&&W!==void 0?W:o.swipe,ke=!le&&!as()?o.easing.navigation:o.easing.swipe;let{direction:ze}=y;const $e=(K=y.count)!==null&&K!==void 0?K:1;let tt=q.ANIMATION,ae=ne*$e;if(!ze){const Me=j==null?void 0:j.width,zt=y.duration||0,st=Me?ne/Me*Math.abs(le):ne;$e!==0?(zt<st?ae=ae/st*Math.max(zt,st/5):Me&&(ae=ne/Me*(Me-Math.abs(le))),ze=oe(le)>0?fe:he):ae=ne/2}let nt=0;ze===fe?Je(oe(1))?nt=-$e:(tt=q.NONE,ae=ne):ze===he&&(Je(oe(-1))?nt=$e:(tt=q.NONE,ae=ne)),ae=Math.round(ae),H(()=>{Ot(0),T(q.NONE)},ae),U.current&&ls({rect:U.current.getBoundingClientRect(),index:g.globalIndex}),T(tt),O(ht,{type:"swipe",increment:nt,duration:ae,easing:ke})});n.useEffect(()=>{var y,W;!((y=g.animation)===null||y===void 0)&&y.increment&&(!((W=g.animation)===null||W===void 0)&&W.duration)&&A(()=>C({type:"swipe",increment:0}),g.animation.duration)},[g.animation,C,A]);const Dt=[w,Je,(j==null?void 0:j.width)||0,o.swipe,()=>T(q.SWIPE),y=>Ot(y),(y,W)=>Te({offset:y,duration:W,count:1}),y=>Te({offset:y,count:0})],cs=[()=>{h&&T(q.PULL)},y=>et(y),y=>jt(y),y=>jt(y,!0)];cr(...Dt,f,h,...cs),dr(b,...Dt);const Ft=F(()=>{a.focus&&te().querySelector(`.${M(wt)} .${M(qt())}`)&&_e()});n.useEffect(Ft,[Ft]);const At=F(()=>{var y;(y=d.view)===null||y===void 0||y.call(d,{index:g.currentIndex})});n.useEffect(At,[g.globalIndex,At]),n.useEffect(()=>Oe(I(fe,y=>Te(x({direction:fe},y))),I(he,y=>Te(x({direction:he},y))),I(ht,y=>C(y))),[I,Te,C]);const us=n.useMemo(()=>({prev:Fe,next:Ae,close:Ie,focus:_e,slideRect:j?Zs(j,l.padding):{width:0,height:0},containerRect:j||{width:0,height:0},subscribeSensors:w,containerRef:_,setCarouselRef:ee,toolbarWidth:E,setToolbarWidth:S}),[Fe,Ae,Ie,_e,w,j,_,ee,E,S,l.padding]);return n.useImperativeHandle(a.ref,()=>({prev:Fe,next:Ae,close:Ie,focus:_e,getLightboxProps:Lt,getLightboxState:Rt}),[Fe,Ae,Ie,_e,Lt,Rt]),n.createElement("div",x(G(x({ref:Z,className:J(M(qt()),M(Pe)),style:x(x(x(x({},b===q.SWIPE?{[V("swipe_offset")]:`${Math.round(P.current)}px`}:null),b===q.PULL?{[V("pull_offset")]:`${Math.round(R.current)}px`,[V("pull_opacity")]:`${L.current}`}:null),a.touchAction!=="none"?{[V("controller_touch_action")]:a.touchAction}:null),u.container)},a.aria?{role:"presentation","aria-live":"polite"}:null),{tabIndex:-1}),z),j&&n.createElement(Zn.Provider,{value:us},e,(i=c.controls)===null||i===void 0?void 0:i.call(c)))}const fr=ue(Ye,mr);function ge(e){return we(pn,e)}function Kt(e){return we("slide",e)}function hr({slide:e,offset:t}){const r=n.useRef(null),{currentIndex:s}=de(),{slideRect:i,close:l,focus:o}=me(),{render:a,carousel:{imageFit:d,imageProps:u},on:{click:c},controller:{closeOnBackdropClick:f},styles:{slide:h}}=Y(),{getOwnerDocument:p}=Ne(),v=t!==0;n.useEffect(()=>{var g;v&&(!((g=r.current)===null||g===void 0)&&g.contains(p().activeElement))&&o()},[v,o,p]);const E=()=>{var g,C,b,T;let P=(g=a.slide)===null||g===void 0?void 0:g.call(a,{slide:e,offset:t,rect:i});return!P&&Ce(e)&&(P=n.createElement(be,{slide:e,offset:t,render:a,rect:i,imageFit:d,imageProps:u,onClick:v?void 0:()=>c==null?void 0:c({index:s})})),P?n.createElement(n.Fragment,null,(C=a.slideHeader)===null||C===void 0?void 0:C.call(a,{slide:e}),((b=a.slideContainer)!==null&&b!==void 0?b:({children:R})=>R)({slide:e,children:P}),(T=a.slideFooter)===null||T===void 0?void 0:T.call(a,{slide:e})):null},S=g=>{const C=r.current,b=g.target instanceof HTMLElement?g.target:void 0;f&&b&&C&&(b===C||Array.from(C.children).find(T=>T===b)&&b.classList.contains(M(xn)))&&l()};return n.createElement("div",G(x({ref:r,className:J(M(Kt()),!v&&M(Kt("current")),M(Pe))},Bs(v)),{onClick:S,style:h}),E())}function pr(){const e=Y().styles.slide;return n.createElement("div",{className:M("slide"),style:e})}function gr({carousel:e}){const{slides:t,currentIndex:r,globalIndex:s}=de(),{setCarouselRef:i}=me(),l=Xe(e.spacing),o=Xe(e.padding),a=kn(e,t,1),d=[];if(Nt(t))for(let u=r-a;u<=r+a;u+=1){const c=_t(t,u),f=s-r+u,h=e.finite&&(u<0||u>t.length-1);d.push(h?{key:f}:{key:[`${f}`,Tn(c)].filter(Boolean).join("|"),offset:u-r,slide:c})}return n.createElement("div",{ref:i,className:J(M(ge()),d.length>0&&M(ge("with_slides"))),style:{[`${V(ge("slides_count"))}`]:d.length,[`${V(ge("spacing_px"))}`]:l.pixel||0,[`${V(ge("spacing_percent"))}`]:l.percent||0,[`${V(ge("padding_px"))}`]:o.pixel||0,[`${V(ge("padding_percent"))}`]:o.percent||0}},d.map(({key:u,slide:c,offset:f})=>c?n.createElement(hr,{key:u,slide:c,offset:f}):n.createElement(pr,{key:u})))}const vr=ue(pn,gr);function Un(){const{carousel:e}=Y(),{slides:t,currentIndex:r}=de(),s=t.length===0||e.finite&&r===0,i=t.length===0||e.finite&&r===t.length-1;return{prevDisabled:s,nextDisabled:i}}function Hn(e){var t;const r=Ge(),{publish:s}=je(),{animation:i}=Y(),{prevDisabled:l,nextDisabled:o}=Un(),a=((t=i.navigation)!==null&&t!==void 0?t:i.swipe)/2,d=Yt(()=>s(fe),a),u=Yt(()=>s(he),a),c=F(f=>{switch(f.key){case As:s(ye);break;case zs:(r?o:l)||(r?u:d)();break;case $s:(r?l:o)||(r?d:u)();break}});n.useEffect(()=>e(Et,c),[e,c])}function Gt({label:e,icon:t,renderIcon:r,action:s,onClick:i,disabled:l,style:o}){return n.createElement(De,x({label:e,icon:t,renderIcon:r,className:M(`navigation_${s}`),disabled:l,onClick:i,style:o},lr(me().focus,l)))}function br({render:{buttonPrev:e,buttonNext:t,iconPrev:r,iconNext:s},styles:i}){const{prev:l,next:o,subscribeSensors:a}=me(),{prevDisabled:d,nextDisabled:u}=Un();return Hn(a),n.createElement(n.Fragment,null,e?e():n.createElement(Gt,{label:"Previous",action:fe,icon:nr,renderIcon:r,style:i.navigationPrev,disabled:d,onClick:l}),t?t():n.createElement(Gt,{label:"Next",action:he,icon:sr,renderIcon:s,style:i.navigationNext,disabled:u,onClick:o}))}const xr=ue(ks,br),Qt=M(js),wr=M(bn);function Er(e){return"style"in e}function Jt(e,t,r){const s=window.getComputedStyle(e),i=r?"padding-left":"padding-right",l=r?s.paddingLeft:s.paddingRight,o=e.style.getPropertyValue(i);return e.style.setProperty(i,`${(qe(l)||0)+t}px`),()=>{o?e.style.setProperty(i,o):e.style.removeProperty(i)}}function Cr({noScroll:{disabled:e},children:t}){const r=Ge(),{getOwnerDocument:s,getOwnerWindow:i}=Ne();return n.useEffect(()=>{if(e)return()=>{};const l=[],o=i(),{body:a,documentElement:d}=s(),u=Math.round(o.innerWidth-d.clientWidth);if(u>0){l.push(Jt(a,u,r));const c=a.getElementsByTagName("*");for(let f=0;f<c.length;f+=1){const h=c[f];Er(h)&&o.getComputedStyle(h).getPropertyValue("position")==="fixed"&&!h.classList.contains(wr)&&l.push(Jt(h,u,r))}}return a.classList.add(Qt),()=>{a.classList.remove(Qt),l.forEach(c=>c())}},[r,e,s,i]),n.createElement(n.Fragment,null,t)}const Sr=ue(Ms,Cr);function en(e){return we(wt,e)}function tn(e,t,r){const s=e.getAttribute(t);return e.setAttribute(t,r),()=>{s?e.setAttribute(t,s):e.removeAttribute(t)}}function Pr({children:e,animation:t,styles:r,className:s,on:i,portal:l,close:o}){const[a,d]=n.useState(!1),[u,c]=n.useState(!1),f=n.useRef([]),h=n.useRef(null),{setTimeout:p}=Ke(),{subscribe:v}=je(),S=Tt()?0:t.fade;n.useEffect(()=>(d(!0),()=>{d(!1),c(!1)}),[]);const g=F(()=>{f.current.forEach(P=>P()),f.current=[]}),C=F(()=>{var P;c(!1),g(),(P=i.exiting)===null||P===void 0||P.call(i),p(()=>{var R;(R=i.exited)===null||R===void 0||R.call(i),o()},S)});n.useEffect(()=>v(ye,C),[v,C]);const b=F(P=>{var R,L,z;P.scrollTop,c(!0),(R=i.entering)===null||R===void 0||R.call(i);const w=(z=(L=P.parentNode)===null||L===void 0?void 0:L.children)!==null&&z!==void 0?z:[];for(let I=0;I<w.length;I+=1){const O=w[I];["TEMPLATE","SCRIPT","STYLE"].indexOf(O.tagName)===-1&&O!==P&&(f.current.push(tn(O,"inert","")),f.current.push(tn(O,"aria-hidden","true")))}f.current.push(()=>{var I,O;(O=(I=h.current)===null||I===void 0?void 0:I.focus)===null||O===void 0||O.call(I)}),p(()=>{var I;(I=i.entered)===null||I===void 0||I.call(i)},S)}),T=n.useCallback(P=>{P?b(P):g()},[b,g]);return a?Cs.createPortal(n.createElement(ar,{ref:T,className:J(s,M(en()),M(bn),u&&M(en("open"))),role:"presentation","aria-live":"polite",style:x(x(x({},t.fade!==gt.animation.fade?{[V("fade_animation_duration")]:`${S}ms`}:null),t.easing.fade!==gt.animation.easing.fade?{[V("fade_animation_timing_function")]:t.easing.fade}:null),r.root),onFocus:P=>{h.current||(h.current=P.relatedTarget)}},e),l.root||document.body):null}const yr=ue(wt,Pr);function Nr({children:e}){return n.createElement(n.Fragment,null,e)}const _r=ue(Ls,Nr);function Ir(e){return we(gn,e)}function Tr({toolbar:{buttons:e},render:{buttonClose:t,iconClose:r},styles:s}){const{close:i,setToolbarWidth:l}=me(),{setContainerRef:o,containerRect:a}=$n();ie(()=>{l(a==null?void 0:a.width)},[l,a==null?void 0:a.width]);const d=()=>t?t():n.createElement(De,{key:ye,label:"Close",icon:tr,renderIcon:r,onClick:i});return n.createElement("div",{ref:o,style:s.toolbar,className:M(Ir())},e==null?void 0:e.map(u=>u===ye?d():u))}const kr=ue(gn,Tr);function Bn(e,t){var r;return n.createElement(e.module.component,x({key:e.module.name},t),(r=e.children)===null||r===void 0?void 0:r.map(s=>Bn(s,t)))}function Mr(e,t={}){const o=e,{easing:r}=o,s=Q(o,["easing"]),a=t,{easing:i}=a,l=Q(a,["easing"]);return x(x({easing:x(x({},r),i)},s),l)}function Xn(f){var h=f,{carousel:e,animation:t,render:r,toolbar:s,controller:i,noScroll:l,on:o,plugins:a,slides:d,index:u}=h,c=Q(h,["carousel","animation","render","toolbar","controller","noScroll","on","plugins","slides","index"]);const O=gt,{animation:p,carousel:v,render:E,toolbar:S,controller:g,noScroll:C,on:b,slides:T,index:P,plugins:R}=O,L=Q(O,["animation","carousel","render","toolbar","controller","noScroll","on","slides","index","plugins"]),{config:z,augmentation:w}=Xs([B(yr,[B(Sr,[B(fr,[B(vr),B(kr),B(xr)])])])],a||R),I=w(x(x({animation:Mr(p,t),carousel:x(x({},v),e),render:x(x({},E),r),toolbar:x(x({},S),s),controller:x(x({},g),i),noScroll:x(x({},C),l),on:x(x({},b),o)},L),c));return I.open?n.createElement(jn,x({},I),n.createElement(Qs,{slides:d||T,index:qe(u||P)},n.createElement(Js,null,n.createElement(qs,null,Bn(B(_r,z),I))))):null}const Lr={auto:!1,ref:null},Yn=e=>x(x({},Lr),e),qn=n.createContext(null),Rr=ce("useFullscreen","FullscreenContext",qn);function Or({fullscreen:e,on:t,children:r}){const{auto:s,ref:i}=Yn(e),l=n.useRef(null),[o,a]=n.useState(),[d,u]=n.useState(!1),c=n.useRef(!1),{getOwnerDocument:f}=Ne();ie(()=>{var b,T,P,R;const L=f();a(!((R=(P=(T=(b=L.fullscreenEnabled)!==null&&b!==void 0?b:L.webkitFullscreenEnabled)!==null&&T!==void 0?T:L.mozFullScreenEnabled)!==null&&P!==void 0?P:L.msFullscreenEnabled)!==null&&R!==void 0&&R))},[f]);const h=n.useCallback(()=>{var b;const T=f(),P=T.fullscreenElement||T.webkitFullscreenElement||T.mozFullScreenElement||T.msFullscreenElement;return((b=P==null?void 0:P.shadowRoot)===null||b===void 0?void 0:b.fullscreenElement)||P},[f]),p=n.useCallback(()=>{const b=l.current;try{b.requestFullscreen?b.requestFullscreen().catch(()=>{}):b.webkitRequestFullscreen?b.webkitRequestFullscreen():b.mozRequestFullScreen?b.mozRequestFullScreen():b.msRequestFullscreen&&b.msRequestFullscreen()}catch(T){}},[]),v=n.useCallback(()=>{if(!h())return;const b=f();try{b.exitFullscreen?b.exitFullscreen().catch(()=>{}):b.webkitExitFullscreen?b.webkitExitFullscreen():b.mozCancelFullScreen?b.mozCancelFullScreen():b.msExitFullscreen&&b.msExitFullscreen()}catch(T){}},[h,f]);n.useEffect(()=>{const b=f(),T=()=>{u(h()===l.current)};return Oe(...["fullscreenchange","webkitfullscreenchange","mozfullscreenchange","MSFullscreenChange"].map(P=>(b.addEventListener(P,T),()=>b.removeEventListener(P,T))))},[h,f]);const E=F(()=>{var b;return(b=t.enterFullscreen)===null||b===void 0?void 0:b.call(t)}),S=F(()=>{var b;return(b=t.exitFullscreen)===null||b===void 0?void 0:b.call(t)});n.useEffect(()=>{d&&(c.current=!0),c.current&&(d?E:S)()},[d,E,S]);const g=F(()=>{var b;return(b=s?p:null)===null||b===void 0||b(),v});n.useEffect(g,[g]);const C=n.useMemo(()=>({fullscreen:d,disabled:o,enter:p,exit:v}),[d,o,p,v]);return n.useImperativeHandle(i,()=>C,[C]),n.createElement("div",{ref:l,className:J(M(Le),M(vn))},n.createElement(qn.Provider,{value:C},r))}const jr=se("EnterFullscreen",n.createElement("path",{d:"M7 14H5v5h5v-2H7v-3zm-2-4h2V7h3V5H5v5zm12 7h-3v2h5v-5h-2v3zM14 5v2h3v3h2V5h-5z"})),Dr=se("ExitFullscreen",n.createElement("path",{d:"M5 16h3v3h2v-5H5v2zm3-8H5v2h5V5H8v3zm6 11h2v-3h3v-2h-5v5zm2-11V5h-2v5h5V8h-3z"}));function Fr(){var e;const{fullscreen:t,disabled:r,enter:s,exit:i}=Rr(),{render:l}=Y();return r?null:l.buttonFullscreen?n.createElement(n.Fragment,null,(e=l.buttonFullscreen)===null||e===void 0?void 0:e.call(l,{fullscreen:t,disabled:r,enter:s,exit:i})):n.createElement(De,{disabled:r,label:t?"Exit Fullscreen":"Enter Fullscreen",icon:t?Dr:jr,renderIcon:t?l.iconExitFullscreen:l.iconEnterFullscreen,onClick:t?i:s})}function Kn({augment:e,contains:t,addParent:r}){e(o=>{var a=o,{fullscreen:s,toolbar:i}=a,l=Q(a,["fullscreen","toolbar"]);return x({toolbar:It(i,Le,n.createElement(Fr,null)),fullscreen:Yn(s)},l)}),r(t(Re)?Re:Ye,ue(Le,Or))}const ve={ref:null,position:"bottom",width:120,height:80,border:1,borderRadius:4,padding:4,gap:16,imageFit:"contain",vignette:!0,hidden:!1,showToggle:!1},kt=e=>x(x({},ve),e);function Gn(){const{thumbnails:e}=Y();return kt(e)}const xe=e=>we(Re,e),X=e=>xe(we("thumbnail",e)),Ar=se("VideoThumbnail",n.createElement("path",{d:"M10 16.5l6-4.5-6-4.5v9zM12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"})),zr=se("UnknownThumbnail",n.createElement("path",{d:"M23 18V6c0-1.1-.9-2-2-2H3c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h18c1.1 0 2-.9 2-2zM8.5 12.5l2.5 3.01L14.5 11l4.5 6H5l3.5-4.5z"}));function $r({slide:e,render:t,rect:r,imageFit:s}){var i;const l=(i=t.thumbnail)===null||i===void 0?void 0:i.call(t,{slide:e,render:t,rect:r,imageFit:s});if(l)return l;const o={render:t,rect:r,imageFit:s};if(e.thumbnail)return n.createElement(be,x({slide:{src:e.thumbnail}},o));if(Ce(e))return n.createElement(be,x({slide:e},o));const a=M(X(Be));return e.type==="video"?n.createElement(n.Fragment,null,e.poster&&n.createElement(be,x({slide:{src:e.poster}},o)),n.createElement(Ar,{className:a})):n.createElement(zr,{className:a})}const Vr=Ee("active"),dt=Ee("fadein"),mt=Ee("fadeout"),Wr=Ee("placeholder"),nn="delay",sn="duration";function Zr({slide:e,onClick:t,active:r,fadeIn:s,fadeOut:i,placeholder:l,onLoseFocus:o}){const a=n.useRef(null),{render:d,styles:u}=Y(),{getOwnerDocument:c}=Ne(),{width:f,height:h,imageFit:p}=Gn(),v={width:f,height:h},E=F(o);return n.useEffect(()=>{i&&c().activeElement===a.current&&E()},[i,E,c]),n.createElement("button",{ref:a,type:"button",className:J(M(Pe),M(X()),r&&M(X(Vr())),s&&M(X(dt())),i&&M(X(mt())),l&&M(X(Wr()))),style:x(x(x({},s?{[V(X(dt(sn)))]:`${s.duration}ms`,[V(X(dt(nn)))]:`${s.delay}ms`}:null),i?{[V(X(mt(sn)))]:`${i.duration}ms`,[V(X(mt(nn)))]:`${i.delay}ms`}:null),u.thumbnail),onClick:t},e&&$r({slide:e,render:d,rect:v,imageFit:p}))}function rn(e){return["top","bottom"].includes(e)}function on(e,t){return t+2*(e.border+e.padding)+e.gap}function Ur(e){const{thumbnail:t,poster:r}=e||{thumbnail:"placeholder"};return typeof t=="string"&&t||typeof r=="string"&&r||e&&Tn(e)||void 0}function ln({visible:e,containerRef:t}){const r=n.useRef(null),s=Ge(),{publish:i,subscribe:l}=je(),{carousel:o,styles:a}=Y(),{slides:d,globalIndex:u,animation:c}=de(),{registerSensors:f,subscribeSensors:h}=Vn();Hn(h);const p=Gn(),{position:v,width:E,height:S,border:g,borderStyle:C,borderColor:b,borderRadius:T,padding:P,gap:R,vignette:L}=p,z=(c==null?void 0:c.duration)||0,w=z>0&&(c==null?void 0:c.increment)||0,{prepareAnimation:I}=vt(r,_=>({keyframes:rn(v)?[{transform:`translateX(${(s?-1:1)*on(p,E)*w+_}px)`},{transform:"translateX(0)"}]:[{transform:`translateY(${on(p,S)*w+_}px)`},{transform:"translateY(0)"}],duration:z,easing:c==null?void 0:c.easing})),O=F(()=>{let _=0;if(t.current&&r.current){const D=t.current.getBoundingClientRect(),j=r.current.getBoundingClientRect();_=rn(v)?j.left-D.left-(D.width-j.width)/2:j.top-D.top-(D.height-j.height)/2}I(_)});n.useEffect(()=>Oe(l(ht,O)),[l,O]);const A=kn(o,d),H=[];if(Nt(d))for(let _=u-A-Math.abs(w);_<=u+A+Math.abs(w);_+=1){const j=o.finite&&(_<0||_>d.length-1)||w<0&&_<u-A||w>0&&_>u+A?null:_t(d,_),Z=[`${_}`,Ur(j)].filter(Boolean).join("|");H.push({key:Z,index:_,slide:j})}const N=_=>()=>{_>u?i(he,{count:_-u}):_<u&&i(fe,{count:u-_})};return n.createElement("div",{className:J(M(xe("container")),M(Pe)),style:x(x(x(x(x(x(x(x(x(x({},e?null:{display:"none"}),E!==ve.width?{[V(X("width"))]:`${E}px`}:null),S!==ve.height?{[V(X("height"))]:`${S}px`}:null),g!==ve.border?{[V(X("border"))]:`${g}px`}:null),C?{[V(X("border_style"))]:C}:null),b?{[V(X("border_color"))]:b}:null),T!==ve.borderRadius?{[V(X("border_radius"))]:`${T}px`}:null),P!==ve.padding?{[V(X("padding"))]:`${P}px`}:null),R!==ve.gap?{[V(X("gap"))]:`${R}px`}:null),a.thumbnailsContainer)},n.createElement("nav",x({ref:r,style:a.thumbnailsTrack,className:J(M(xe("track")),M(Pe)),tabIndex:-1},f),H.map(({key:_,index:D,slide:j})=>{const Z=z/Math.abs(w||1),U=w>0&&D>u+A-w&&D<=u+A||w<0&&D<u-A-w&&D>=u-A?{duration:Z,delay:((w>0?D-(u+A-w):u-A-w-D)-1)*Z}:void 0,ee=w>0&&D<u-A||w<0&&D>u+A?{duration:Z,delay:(w>0?w-(u-A-D):-w-(D-(u+A)))*Z}:void 0;return n.createElement(Zr,{key:_,slide:j,active:D===u,fadeIn:U,fadeOut:ee,placeholder:!j,onClick:N(D),onLoseFocus:()=>{var te;return(te=r.current)===null||te===void 0?void 0:te.focus()}})})),L&&n.createElement("div",{className:M(xe("vignette"))}))}const Qn=n.createContext(null),Hr=ce("useThumbnails","ThumbnailsContext",Qn);function Br(r){var s=r,{children:e}=s,t=Q(s,["children"]);const{ref:i,position:l,hidden:o}=kt(t.thumbnails),[a,d]=n.useState(!o),u=n.useRef(null),c=n.useMemo(()=>({visible:a,show:()=>d(!0),hide:()=>d(!1)}),[a]);return n.useImperativeHandle(i,()=>c,[c]),n.createElement(jn,x({},t),n.createElement(Qn.Provider,{value:c},n.createElement("div",{ref:u,className:J(M(xe()),M(xe(`${l}`)))},["start","top"].includes(l)&&n.createElement(ln,{containerRef:u,visible:a}),n.createElement("div",{className:M(xe("wrapper"))},e),["end","bottom"].includes(l)&&n.createElement(ln,{containerRef:u,visible:a}))))}const Jn=()=>n.createElement(n.Fragment,null,n.createElement("path",{strokeWidth:2,stroke:"currentColor",strokeLinejoin:"round",fill:"none",d:"M3 5l18 0l0 14l-18 0l0-14z"}),n.createElement("path",{d:"M5 14h4v3h-4zM10 14h4v3h-4zM15 14h4v3h-4z"})),Xr=se("ThumbnailsVisible",Jn()),Yr=er("ThumbnailsHidden",Jn());function qr(){const{visible:e,show:t,hide:r}=Hr(),{render:s}=Y();return s.buttonThumbnails?n.createElement(n.Fragment,null,s.buttonThumbnails({visible:e,show:t,hide:r})):n.createElement(De,{label:e?"Hide thumbnails":"Show thumbnails",icon:e?Xr:Yr,renderIcon:e?s.iconThumbnailsVisible:s.iconThumbnailsHidden,onClick:e?r:t})}function es({augment:e,contains:t,append:r,addParent:s}){e(d=>{var u=d,{thumbnails:l,toolbar:o}=u,a=Q(u,["thumbnails","toolbar"]);const c=kt(l);return x({toolbar:It(o,Re,c.showToggle?n.createElement(qr,null):null),thumbnails:c},a)});const i=ue(Re,Br);t(Le)?r(Le,i):s(Ye,i)}const Kr={maxZoomPixelRatio:1,zoomInMultiplier:2,doubleTapDelay:300,doubleClickDelay:500,doubleClickMaxStops:2,keyboardMoveDistance:50,wheelZoomDistanceFactor:100,pinchZoomDistanceFactor:100,scrollToZoom:!1},ts=e=>x(x({},Kr),e);function Gr(e,t,r,s){const i=n.useRef(),l=n.useRef(),{zoom:o}=Y().animation,a=Tt(),d=F(()=>{var u,c,f;if((u=i.current)===null||u===void 0||u.cancel(),i.current=void 0,l.current&&(s!=null&&s.current)){try{i.current=(f=(c=s.current).animate)===null||f===void 0?void 0:f.call(c,[{transform:l.current},{transform:`scale(${e}) translateX(${t}px) translateY(${r}px)`}],{duration:a?0:o!=null?o:500,easing:i.current?"ease-out":"ease-in-out"})}catch(h){console.error(h)}l.current=void 0,i.current&&(i.current.onfinish=()=>{i.current=void 0})}});return ie(d,[e,t,r,d]),n.useCallback(()=>{l.current=s!=null&&s.current?window.getComputedStyle(s.current).transform:void 0},[s])}function Qr(e,t){const{on:r}=Y(),s=F(()=>{var i;t||(i=r.zoom)===null||i===void 0||i.call(r,{zoom:e})});n.useEffect(s,[e,s])}function Qe(){const{zoom:e}=Y();return ts(e)}function Jr(e,t){var r,s;let i={width:0,height:0},l={width:0,height:0};const{currentSlide:o}=de(),{imageFit:a}=Y().carousel,{maxZoomPixelRatio:d}=Qe();if(e&&o){const c=x(x({},o),t);if(Ce(c)){const f=yt(c,a),h=Math.max(...(((r=c.srcSet)===null||r===void 0?void 0:r.map(v=>v.width))||[]).concat(c.width?[c.width]:[])),p=Math.max(...(((s=c.srcSet)===null||s===void 0?void 0:s.map(v=>v.height))||[]).concat(c.height?[c.height]:[]));h>0&&p>0&&e.width>0&&e.height>0&&(l=f?{width:Math.round(Math.min(h,e.width/e.height*p)),height:Math.round(Math.min(p,e.height/e.width*h))}:{width:h,height:p},l={width:l.width*d,height:l.height*d},i=f?{width:Math.min(e.width,l.width,h),height:Math.min(e.height,l.height,p)}:{width:Math.round(Math.min(e.width,e.height/p*h,h)),height:Math.round(Math.min(e.height,e.width/h*p,p))})}}const u=i.width?Math.max(Pt(l.width/i.width,5),1):1;return{imageRect:i,maxZoom:u}}function an(e,t){return pe(pe(e.clientX-t.clientX,2)+pe(e.clientY-t.clientY,2),.5)}function cn(e,t,r=100,s=2){return e*pe(Math.min(1+Math.abs(t/r),s),Math.sign(t))}function ei(e,t,r,s,i,l){const o=n.useRef([]),a=n.useRef(0),d=n.useRef(),{globalIndex:u}=de(),{getOwnerWindow:c}=Ne(),{containerRef:f,subscribeSensors:h}=me(),{keyboardMoveDistance:p,zoomInMultiplier:v,wheelZoomDistanceFactor:E,scrollToZoom:S,doubleTapDelay:g,doubleClickDelay:C,doubleClickMaxStops:b,pinchZoomDistanceFactor:T}=Qe(),P=n.useCallback(N=>{if(f.current){const{pageX:_,pageY:D}=N,{scrollX:j,scrollY:Z}=c(),{left:U,top:ee,width:te,height:$}=f.current.getBoundingClientRect();return[_-U-j-te/2,D-ee-Z-$/2]}return[]},[f,c]),R=F(N=>{const _=()=>{N.preventDefault(),N.stopPropagation()};if(e>1){const Z=(U,ee)=>{_(),i(U,ee)};N.key==="ArrowDown"?Z(0,p):N.key==="ArrowUp"?Z(0,-p):N.key==="ArrowLeft"?Z(-p,0):N.key==="ArrowRight"&&Z(p,0)}const D=Z=>{_(),s(Z)},j=()=>N.getModifierState("Meta");N.key==="+"||N.key==="="&&j()?D(e*v):N.key==="-"||N.key==="_"&&j()?D(e/v):N.key==="0"&&j()&&D(1)}),L=F(N=>{if((N.ctrlKey||S)&&Math.abs(N.deltaY)>Math.abs(N.deltaX)){N.stopPropagation(),s(cn(e,-N.deltaY,E),!0,...P(N));return}e>1&&(N.stopPropagation(),S||i(N.deltaX,N.deltaY))}),z=n.useCallback(N=>{const _=o.current;_.splice(0,_.length,..._.filter(D=>D.pointerId!==N.pointerId))},[]),w=n.useCallback(N=>{z(N),N.persist(),o.current.push(N)},[z]),I=F(N=>{var _;const D=o.current;if(N.pointerType==="mouse"&&N.buttons>1||!(!((_=l==null?void 0:l.current)===null||_===void 0)&&_.contains(N.target)))return;e>1&&N.stopPropagation();const{timeStamp:j}=N;D.length===0&&j-a.current<(N.pointerType==="touch"?g:C)?(a.current=0,s(e!==t?e*Math.max(pe(t,1/b),v):1,!1,...P(N))):a.current=j,w(N),D.length===2&&(d.current=an(D[0],D[1]))}),O=F(N=>{const _=o.current,D=_.find(j=>j.pointerId===N.pointerId);if(_.length===2&&d.current){N.stopPropagation(),w(N);const j=an(_[0],_[1]),Z=j-d.current;Math.abs(Z)>0&&(s(cn(e,Z,T),!0,..._.map(U=>P(U)).reduce((U,ee)=>ee.map((te,$)=>U[$]+te/2))),d.current=j);return}e>1&&(N.stopPropagation(),D&&(_.length===1&&i((D.clientX-N.clientX)/e,(D.clientY-N.clientY)/e),w(N)))}),A=n.useCallback(N=>{const _=o.current;_.length===2&&_.find(D=>D.pointerId===N.pointerId)&&(d.current=void 0),z(N)},[z]),H=n.useCallback(()=>{const N=o.current;N.splice(0,N.length),a.current=0,d.current=void 0},[]);Wn(h,I,O,A,r),n.useEffect(H,[u,H]),n.useEffect(()=>r?()=>{}:Oe(H,h(Et,R),h(Ct,L)),[r,h,H,R,L])}function ti(e,t,r){const[s,i]=n.useState(1),[l,o]=n.useState(0),[a,d]=n.useState(0),u=Gr(s,l,a,r),{currentSlide:c,globalIndex:f}=de(),{containerRect:h,slideRect:p}=me(),{zoomInMultiplier:v}=Qe(),E=c&&Ce(c)?c.src:void 0,S=!E||!(r!=null&&r.current);ie(()=>{i(1),o(0),d(0)},[f,E]);const g=n.useCallback((R,L,z)=>{const w=z||s,I=l-(R||0),O=a-(L||0),A=(e.width*w-p.width)/2/w,H=(e.height*w-p.height)/2/w;o(Math.min(Math.abs(I),Math.max(A,0))*Math.sign(I)),d(Math.min(Math.abs(O),Math.max(H,0))*Math.sign(O))},[s,l,a,p,e.width,e.height]),C=n.useCallback((R,L,z,w)=>{const I=Pt(Math.min(Math.max(R+.001<t?R:t,1),t),5);I!==s&&(L||u(),g(z?z*(1/s-1/I):0,w?w*(1/s-1/I):0,I),i(I))},[s,t,g,u]),b=F(()=>{s>1&&(s>t&&C(t,!0),g())});ie(b,[h.width,h.height,b]);const T=n.useCallback(()=>C(s*v),[s,v,C]),P=n.useCallback(()=>C(s/v),[s,v,C]);return{zoom:s,offsetX:l,offsetY:a,disabled:S,changeOffsets:g,changeZoom:C,zoomIn:T,zoomOut:P}}const ns=n.createContext(null),Mt=ce("useZoom","ZoomControllerContext",ns);function ni({children:e}){const[t,r]=n.useState(),{slideRect:s}=me(),{imageRect:i,maxZoom:l}=Jr(s,t==null?void 0:t.imageDimensions),{zoom:o,offsetX:a,offsetY:d,disabled:u,changeZoom:c,changeOffsets:f,zoomIn:h,zoomOut:p}=ti(i,l,t==null?void 0:t.zoomWrapperRef);Qr(o,u),ei(o,l,u,c,f,t==null?void 0:t.zoomWrapperRef);const v=n.useMemo(()=>({zoom:o,maxZoom:l,offsetX:a,offsetY:d,disabled:u,zoomIn:h,zoomOut:p,changeZoom:c}),[o,l,a,d,u,h,p,c]);n.useImperativeHandle(Qe().ref,()=>v,[v]);const E=n.useMemo(()=>G(x({},v),{setZoomWrapper:r}),[v,r]);return n.createElement(ns.Provider,{value:E},e)}const si=se("ZoomIn",n.createElement(n.Fragment,null,n.createElement("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"}),n.createElement("path",{d:"M12 10h-2v2H9v-2H7V9h2V7h1v2h2v1z"}))),ri=se("ZoomOut",n.createElement("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14zM7 9h5v1H7z"})),un=n.forwardRef(function({zoomIn:t,onLoseFocus:r},s){const i=n.useRef(!1),l=n.useRef(!1),{zoom:o,maxZoom:a,zoomIn:d,zoomOut:u,disabled:c}=Mt(),{render:f}=Y(),h=c||(t?o>=a:o<=1);return n.useEffect(()=>{h&&i.current&&l.current&&r(),h||(i.current=!0)},[h,r]),n.createElement(De,{ref:s,disabled:h,label:t?"Zoom in":"Zoom out",icon:t?si:ri,renderIcon:t?f.iconZoomIn:f.iconZoomOut,onClick:t?d:u,onFocus:()=>{l.current=!0},onBlur:()=>{l.current=!1}})});function ii(){const e=n.useRef(null),t=n.useRef(null),{focus:r}=me(),s=n.useCallback(o=>{var a,d;!((a=o.current)===null||a===void 0)&&a.disabled?r():(d=o.current)===null||d===void 0||d.focus()},[r]),i=n.useCallback(()=>s(e),[s]),l=n.useCallback(()=>s(t),[s]);return n.createElement(n.Fragment,null,n.createElement(un,{zoomIn:!0,ref:e,onLoseFocus:l}),n.createElement(un,{ref:t,onLoseFocus:i}))}function oi(){const{render:e}=Y(),t=Mt();return e.buttonZoom?n.createElement(n.Fragment,null,e.buttonZoom(t)):n.createElement(ii,null)}function li(e){var t;return(((t=e.srcSet)===null||t===void 0?void 0:t.length)||0)>0}function ai({current:e,preload:t},{type:r,source:s}){switch(r){case"fetch":return e?{current:e,preload:s}:{current:s};case"done":return s===t?{current:s}:{current:e,preload:t};default:throw new Error(Nn)}}function ci(e){var t,r;const[{current:s,preload:i},l]=n.useReducer(ai,{}),{slide:o,rect:a,imageFit:d,render:u,interactive:c}=e,f=o.srcSet.sort((P,R)=>P.width-R.width),h=(t=o.width)!==null&&t!==void 0?t:f[f.length-1].width,p=(r=o.height)!==null&&r!==void 0?r:f[f.length-1].height,v=yt(o,d),E=Math.max(...f.map(P=>P.width)),S=Math.min((v?Math.max:Math.min)(a.width,h*(a.height/p)),E),g=Us(),C=F(()=>{var P;const R=(P=f.find(L=>L.width>=S*g))!==null&&P!==void 0?P:f[f.length-1];(!s||f.findIndex(L=>L.src===s)<f.findIndex(L=>L===R))&&l({type:"fetch",source:R.src})});ie(C,[a.width,a.height,g,C]);const b=F(P=>l({type:"done",source:P})),T={WebkitTransform:c?"initial":"translateZ(0)"};return v||Object.assign(T,a.width/a.height<h/p?{width:"100%",height:"auto"}:{width:"auto",height:"100%"}),n.createElement(n.Fragment,null,i&&i!==s&&n.createElement(be,G(x({key:"preload"},e),{slide:G(x({},o),{src:i,srcSet:void 0}),style:x({position:"absolute",visibility:"hidden"},T),onLoad:()=>b(i),render:G(x({},u),{iconLoading:()=>null,iconError:()=>null})})),s&&n.createElement(be,G(x({key:"current"},e),{slide:G(x({},o),{src:s,srcSet:void 0}),style:T})))}function ui({render:e,slide:t,offset:r,rect:s}){var i;const[l,o]=n.useState(),a=n.useRef(null),{zoom:d,maxZoom:u,offsetX:c,offsetY:f,setZoomWrapper:h}=Mt(),p=d>1,{carousel:v,on:E}=Y(),{currentIndex:S}=de();ie(()=>r===0?(h({zoomWrapperRef:a,imageDimensions:l}),()=>h(void 0)):()=>{},[r,l,h]);let g=(i=e.slide)===null||i===void 0?void 0:i.call(e,{slide:t,offset:r,rect:s,zoom:d,maxZoom:u});if(!g&&Ce(t)){const C={slide:t,offset:r,rect:s,render:e,imageFit:v.imageFit,imageProps:v.imageProps,onClick:r===0?()=>{var b;return(b=E.click)===null||b===void 0?void 0:b.call(E,{index:S})}:void 0};g=li(t)?n.createElement(ci,G(x({},C),{slide:t,interactive:p,rect:r===0?{width:s.width*d,height:s.height*d}:s})):n.createElement(be,x({onLoad:b=>o({width:b.naturalWidth,height:b.naturalHeight})},C))}return g?n.createElement("div",{ref:a,className:J(M(vn),M(Pe),M(xn),p&&M(Ds)),style:r===0?{transform:`scale(${d}) translateX(${c}px) translateY(${f}px)`}:void 0},g):null}const ss=({augment:e,addModule:t})=>{e(a=>{var d=a,{zoom:r,toolbar:s,render:i,controller:l}=d,o=Q(d,["zoom","toolbar","render","controller"]);const u=ts(r);return x({zoom:u,toolbar:It(s,Ht,n.createElement(oi,null)),render:G(x({},i),{slide:c=>{var f;return Ce(c.slide)?n.createElement(ui,x({render:i},c)):(f=i.slide)===null||f===void 0?void 0:f.call(i,c)}}),controller:G(x({},l),{preventDefaultWheelY:u.scrollToZoom})},o)}),t(ue(Ht,ni))},rs=({product:e})=>{var d,u;const[t,r]=n.useState(null),[s,i]=n.useState(-1),l=e==null?void 0:e.file_urls.split(",").map((c,f)=>({src:c,key:f})),o={spaceBetween:10,loop:!0,effect:"fade",fadeEffect:{crossFade:!0},thumbs:{swiper:t},modules:[dn,mn]},a={onSwiper:r,spaceBetween:10,slidesPerView:4,touchRatio:.2,freeMode:!0,loop:!0,slideToClickedSlide:!0,navigation:!0};return m.jsxs(n.Fragment,{children:[m.jsxs("div",{className:"product-large-image-wrapper",children:[e!=null&&e.discount||e!=null&&e.new?m.jsxs("div",{className:"product-img-badges",children:[e!=null&&e.discount?m.jsxs("span",{className:"pink",children:["-",e==null?void 0:e.discount,"%"]}):"",e!=null&&e.new?m.jsx("span",{className:"purple",children:"New"}):""]}):"",(d=e==null?void 0:e.file_urls.split(","))!=null&&d.length?m.jsxs(Ue,{options:o,children:[e.file_urls.split(",").map((c,f)=>m.jsxs(He,{children:[m.jsx("button",{className:"lightgallery-button",onClick:()=>i(f),children:m.jsx("i",{className:"pe-7s-expand1"})}),m.jsx("div",{className:"single-image",children:m.jsx("img",{src:c,className:"img-fluid",alt:""})})]},f)),m.jsx(Xn,{open:s>=0,index:s,close:()=>i(-1),slides:l,plugins:[es,ss,Kn]})]}):null]}),m.jsx("div",{className:"product-small-image-wrapper mt-15",children:(u=e==null?void 0:e.file_urls.split(","))!=null&&u.length?m.jsx(Ue,{options:a,children:e.file_urls.split(",").map((c,f)=>m.jsx(He,{children:m.jsx("div",{className:"single-image",children:m.jsx("img",{src:c,className:"img-fluid",alt:""})})},f))}):null})]})};rs.propTypes={product:k.shape({image:k.string,discount:k.number,new:k.number,file_urls:k.string})};const xt=({product:e,thumbPosition:t})=>{var u,c;const[r,s]=n.useState(null),[i,l]=n.useState(-1),o=e==null?void 0:e.image.map((f,h)=>({src:"../../../public/assets/img/product/fashion/1.jpg",key:h})),a={spaceBetween:10,loop:!0,effect:"fade",fadeEffect:{crossFade:!0},thumbs:{swiper:r},modules:[dn,mn]},d={onSwiper:s,spaceBetween:10,slidesPerView:4,touchRatio:.2,loop:!0,slideToClickedSlide:!0,direction:"vertical",breakpoints:{320:{slidesPerView:4,direction:"horizontal"},640:{slidesPerView:4,direction:"horizontal"},768:{slidesPerView:4,direction:"horizontal"},992:{slidesPerView:4,direction:"horizontal"},1200:{slidesPerView:4,direction:"vertical"}}};return m.jsx(n.Fragment,{children:m.jsxs("div",{className:"row row-5 test",children:[m.jsx("div",{className:ft(t&&t==="left"?"col-xl-10 order-1 order-xl-2":"col-xl-10"),children:m.jsxs("div",{className:"product-large-image-wrapper",children:[e.discount||e.new?m.jsxs("div",{className:"product-img-badges",children:[e.discount?m.jsxs("span",{className:"pink",children:["-",e.discount,"%"]}):"",e.new?m.jsx("span",{className:"purple",children:"New"}):""]}):"",(u=e==null?void 0:e.image)!=null&&u.length?m.jsxs(Ue,{options:a,children:[e==null?void 0:e.image.map((f,h)=>m.jsxs(He,{children:[m.jsx("button",{className:"lightgallery-button",onClick:()=>l(h),children:m.jsx("i",{className:"pe-7s-expand1"})}),m.jsx("div",{className:"single-image",children:m.jsx("img",{src:"../../../public/assets/img/product/fashion/1.jpg",className:"img-fluid",alt:""})})]},h)),m.jsx(Xn,{open:i>=0,index:i,close:()=>l(-1),slides:o,plugins:[es,ss,Kn]})]}):null]})}),m.jsx("div",{className:ft(t&&t==="left"?"col-xl-2 order-2 order-xl-1":"col-xl-2"),children:m.jsx("div",{className:"product-small-image-wrapper product-small-image-wrapper--side-thumb",children:(c=e==null?void 0:e.image)!=null&&c.length?m.jsx(Ue,{options:d,children:e.image.map((f,h)=>m.jsx(He,{children:m.jsx("div",{className:"single-image",children:m.jsx("img",{src:"../../../public/assets/img/product/fashion/1.jpg",className:"img-fluid",alt:""})})},h))}):null})})]})})};xt.propTypes={product:k.shape({image:k.array,discount:k.number,new:k.number}),thumbPosition:k.string};const is=({spaceTopClass:e,spaceBottomClass:t,galleryType:r,product:s})=>{const i=We(p=>p.currency),{cartItems:l}=We(p=>p.cart),{wishlistItems:o}=We(p=>p.wishlist),{compareItems:a}=We(p=>p.compare),d=o.find(p=>p.name===(s==null?void 0:s.name)),u=a.find(p=>p.name===(s==null?void 0:s.name)),c=Ss(s==null?void 0:s.price,s==null?void 0:s.discount),f=+((s==null?void 0:s.price)*i.currencyRate).toFixed(2),h=+(c*i.currencyRate).toFixed(2);return m.jsx("div",{className:ft("shop-area",e,t),children:m.jsx("div",{className:"container",children:m.jsxs("div",{className:"row",children:[m.jsx("div",{className:"col-lg-6 col-md-6",children:r==="leftThumb"?m.jsx(xt,{product:s,thumbPosition:"left"}):r==="rightThumb"?m.jsx(xt,{product:s}):r==="fixedImage"?m.jsx(hn,{product:s}):m.jsx(rs,{product:s})}),m.jsx("div",{className:"col-lg-6 col-md-6",children:m.jsx(fn,{product:s,discountedPrice:c,currency:i,finalDiscountedPrice:h,finalProductPrice:f,cartItems:l,wishlistItem:d,compareItem:u})})]})})})};is.propTypes={galleryType:k.string,product:k.shape({id:k.number,name:k.string,price:k.number,image:k.string,discount:k.number,new:k.number}),spaceBottomClass:k.string,spaceTopClass:k.string};const hi=()=>{let{pathname:e}=Ps(),{id:t}=ys();const{data:r}=Ns("evcar.api.item.get_items_detail_by_name",{id:t});return m.jsxs(n.Fragment,{children:[m.jsx(_s,{titleTemplate:"Product Page",description:"Product Page of flone react minimalist eCommerce template."}),m.jsxs(Is,{headerTop:"visible",children:[m.jsx(Ts,{pages:[{label:"Home",path:"/"},{label:"Shop Product",path:e}]}),m.jsx(is,{spaceTopClass:"pt-100",spaceBottomClass:"pb-100",product:r==null?void 0:r.message})]})]})};export{hi as default};
