import{r,u as T,$ as p,j as e,S as _,L as B}from"./index-ByAQpZmw.js";import{u as k,S as w,a as E,b as O,P as $}from"./ShopTopbar-d7NU7vGU.js";import{B as H}from"./Breadcrumb-DuebQk6J.js";const M=()=>{const[h,u]=r.useState("grid three-column"),[c,x]=r.useState(""),[o,S]=r.useState([]),[l,f]=r.useState([]),[s,j]=k([]),[b,v]=r.useState(0),[n,C]=r.useState(1),m=15;console.log(b);let{pathname:y}=T();const N=t=>{u(t)},F=t=>{const a=["item_name","like",`%${t}%`];j(t?a:[]),console.log("search",s)},L=(t,a)=>{const g=[t,"=",a];switch(t){case"brand":f(a?g:[]);break;case"item_group":S(a?g:[]);break}},P=(t,a)=>{x(a)},{data:d}=p("Item",{fields:["*"],filters:[["category","=","Vehicle"],...s.length?[s]:[],...o.length?[o]:[],...l.length?[l]:[]],orderBy:c?{field:"valuation_rate",order:c==="priceHighToLow"?"desc":"asc"}:void 0,limit:m,limit_start:m*(n-1)+(n-1)},["product_list",s,n,o,l,c]),{data:i}=p("Item",{fields:["name"],filters:[["category","=","Vehicle"],...s.length?[s]:[],...o.length?[o]:[],...l.length?[l]:[]]},["product_count",s,n,o,l,c]);return e.jsxs(r.Fragment,{children:[e.jsx(_,{titleTemplate:"Shop Page",description:"Shop page of flone react minimalist eCommerce template."}),e.jsxs(B,{headerTop:"visible",children:[e.jsx(H,{pages:[{label:"Home",path:"/"},{label:"Collection",path:y}]}),e.jsx("div",{className:"shop-area pt-95 pb-100",children:e.jsx("div",{className:"container",children:e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-lg-3 order-2 order-lg-1",children:e.jsx(w,{getSortParams:L,sideSpaceClass:"mr-30",getSearch:F})}),e.jsxs("div",{className:"col-lg-9 order-1 order-lg-2",children:[e.jsx(E,{getLayout:N,getFilterSortParams:P,productCount:(i==null?void 0:i.length)||0,sortedProductCount:(d==null?void 0:d.length)||0}),e.jsx(O,{layout:h,products:d||[]}),e.jsx("div",{className:"pro-pagination-style text-center mt-30",children:e.jsx($,{totalRecords:(i==null?void 0:i.length)||0,pageLimit:m,pageNeighbours:2,setOffset:v,currentPage:n,setCurrentPage:C,pageContainerClass:"mb-0 mt-0",pagePrevText:"«",pageNextText:"»"})})]})]})})})]})]})};export{M as default};
